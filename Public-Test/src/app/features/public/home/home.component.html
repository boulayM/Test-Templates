<app-navbar>
  <div navbar-actions>
    <button class="btn-ui btn-primary" (click)="openLoginModal()">Connexion</button>
    <button class="btn-ui btn-secondary" [routerLink]="'/register'">Inscription</button>
  </div>
</app-navbar>

<main class="ds-container home-main">
  <section class="home-hero card-ui">
    <p class="hero-kicker">Boutique en ligne</p>
    <h1>Bienvenue chez Ma Boutique</h1>
    <p>
      Decouvrez nos produits, connectez-vous pour gerer votre panier et suivre vos commandes.
    </p>
  </section>

  <h2 class="home-section-title">Produits disponibles</h2>

  <div class="grid grid-md-3 grid-gap-md home-grid">
    @for (contentItem of contentItems; track contentItem.id) {
      <div class="home-grid-item">
        <div class="card-ui home-card">
          <div class="home-card-body">
            <h5 class="card-ui__title">{{ contentItem.name }}</h5>
            <p class="home-card-text">{{ contentItem.description }}</p>
            <p class="home-card-text"><strong>Prix:</strong> {{ contentItem.price | currency: 'EUR' }}</p>
            @if (contentItem.isActive) {
              <span class="badge-ui badge-success">Disponible</span>
            } @else {
              <span class="badge-ui badge-secondary">Indisponible</span>
            }
          </div>
        </div>
      </div>
    }
  </div>

  @if (showLoginModal()) {
    <div class="ds-modal is-open" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" [attr.aria-hidden]="showLoginModal() ? 'false' : 'true'">
      <div class="ds-modal-dialog">
        <div class="ds-modal-content">
          <div class="ds-modal-header">
            <h5 class="ds-modal-title" id="loginModalLabel">Connexion</h5>
            <button type="button" class="ds-modal-close" (click)="closeLoginModal()" aria-label="Close">X</button>
          </div>
          <div class="ds-modal-body">
            <app-login></app-login>
          </div>
        </div>
      </div>
    </div>
  }
  @if (showLoginModal()) {
    <div class="ds-modal-backdrop is-open" (click)="closeLoginModal()"></div>
  }
</main>

<app-footer></app-footer>
